import { Notes, Head, Steps } from "mdx-deck";
import { Meta, Profile, AlignLeft, Header } from "./parts";
import { CodeSurferLayout, vsDarkPartial } from "code-surfer";
import "prismjs/components/prism-tsx";

export const theme = vsDarkPartial;

<Head>
  <Meta
    title="CDK„ÅÆ„Ç≥„Éº„Éâ„ÅÆË™≠„ÅøÊñπ(‰ªÆ)"
    description="cdk"
    publishedAt={"2022-03-04T15:00:51.470Z"}
    host=""
  />
</Head>


# CDK „ÅÆ„Ç≥„Éº„Éâ„ÅÆË™≠„ÅøÊñπ(‰ªÆ)

[AWS CDK Conference Japan](https://jawsug.connpass.com/event/240422/)
@yamatatsu

---

<AlignLeft>

<Header>About Me</Header>

<Profile />

</AlignLeft>

---

<AlignLeft>

<Header>Ê¶ÇË¶Å</Header>

1. ÂÉï„Åå CDK „Å´„Ç≥„É≥„Éà„É™„Éì„É•„Éº„Éà„Åó„Åü„Åì„Å®
1. „Ç¥„Éº„É´
1. CDK „ÅÆ„Ç≥„Éº„Éâ„ÅÆ‰∏≠
1. „Ç≥„É≥„Éà„É™„Éì„É•„Éº„Éà„ÅÆ„Éè„Éû„Çä„Å©„Åì
1. „Åä„Çè„Çä„Å´

</AlignLeft>

---

## ÂÉï„Åå CDK „Å´„Ç≥„É≥„Éà„É™„Éì„É•„Éº„Éà„Åó„Åü„Åì„Å®

---

<Header>ÂÉï„Åå CDK „Å´„Ç≥„É≥„Éà„É™„Éì„É•„Éº„Éà„Åó„Åü„Åì„Å®</Header>

---

<Header>ÂÉï„Åå CDK „Å´„Ç≥„É≥„Éà„É™„Éì„É•„Éº„Éà„Åó„Åü„Åì„Å®</Header>

- aws-iot
- aws-iot-actions
- aws-iotevents
- aws-iotevents-actions

---

## „Ç¥„Éº„É´

---

<Header>„Ç¥„Éº„É´</Header>

### „Éâ„Ç≠„É•„É°„É≥„Éà„ÅåË∂≥„Çä„Å™„ÅÑ„ÄÇ

### üò© „Åê„Å¨„Å¨

---

<Header>„Ç¥„Éº„É´</Header>

### „Ç≥„Éº„ÉâË™≠„ÇÅ„Å∞„ÅÑ„ÅÑ„ÇÑ

### üòá

---

<Header>„Ç¥„Éº„É´</Header>

### Props „ÅÆÂ±ûÊÄß„ÅåË∂≥„Çä„Å™„ÅÑ„ÄÇÊ©üËÉΩ„ÅåË∂≥„Çä„Å™„ÅÑ„ÄÇ

### üò© „Åê„Å¨„Å¨

---

<Header>„Ç¥„Éº„É´</Header>

### „Ç≥„É≥„Éà„É™„Éì„É•„Éº„Ç∑„Éß„É≥„ÉÅ„É£„É≥„ÇπÔºÅ

### ü§©

---

<Header>„Ç¥„Éº„É´</Header>

# üò© ‚Üí ü§©

---

<Header>„Ç¥„Éº„É´</Header>

# ü§©

---

## CDK „ÅÆ„Ç≥„Éº„Éâ„ÅÆ‰∏≠

---

**aws-lambda/lib/function.ts** „ÅÆ‰∏≠„ÇíË¶ã„Å¶„Åø„Çà„ÅÜ :eyes:

---

<CodeSurferLayout>

```ts
export class Function extends cdk.Resource {
}
```

```ts
export class Function extends cdk.Resource {
  constructor() {
  }
}
```

```ts
export class Function extends cdk.Resource {
  constructor(scope: Construct, id: string, props: FunctionProps) {
  }
}
```

```ts
export interface FunctionProps {
}

export class Function extends cdk.Resource {
  constructor(scope: Construct, id: string, props: FunctionProps) {
  }
}
```

```ts
export interface FunctionProps {
  readonly code: Code;
}

export class Function extends cdk.Resource {
  constructor(scope: Construct, id: string, props: FunctionProps) {
  }
}
```

```ts
export interface FunctionProps {
  /**
   * The source code of your Lambda function. You can point to a file in an
   * Amazon Simple Storage Service (Amazon S3) bucket or specify your source
   * code as inline text.
   */
  readonly code: Code;
}

export class Function extends cdk.Resource {
  constructor(scope: Construct, id: string, props: FunctionProps) {
  }
}
```

```ts
export interface FunctionProps {
  /**
   * The source code of your Lambda function. You can point to a file in an
   * Amazon Simple Storage Service (Amazon S3) bucket or specify your source
   * code as inline text.
   */
  readonly code: Code;
}

export class Function extends cdk.Resource {
  constructor(scope: Construct, id: string, props: FunctionProps) {

    const code = props.code;

    new CfnFunction(this, 'Resource', {
      code: {
        s3Bucket: code.s3Location && code.s3Location.bucketName,
        s3Key: code.s3Location && code.s3Location.objectKey,
        s3ObjectVersion: code.s3Location && code.s3Location.objectVersion,
        zipFile: code.inlineCode,
        imageUri: code.image?.imageUri,
      },
    });
  }
}
```

```ts
export interface FunctionProps {
  /**
   * The source code of your Lambda function. You can point to a file in an
   * Amazon Simple Storage Service (Amazon S3) bucket or specify your source
   * code as inline text.
   */
  readonly code: Code;
}

export class Function extends cdk.Resource {
  constructor(scope: Construct, id: string, props: FunctionProps) {

    const code = props.code;

    new CfnFunction(this, 'Resource', {
      code: {
        s3Bucket: code.s3Location && code.s3Location.bucketName,
        s3Key: code.s3Location && code.s3Location.objectKey,
        s3ObjectVersion: code.s3Location && code.s3Location.objectVersion,
        zipFile: code.inlineCode,
        imageUri: code.image?.imageUri,
      },
      handler: props.handler,
    });
  }
}
```

```ts
export interface FunctionProps {
  /**
   * The source code of your Lambda function. You can point to a file in an
   * Amazon Simple Storage Service (Amazon S3) bucket or specify your source
   * code as inline text.
   */
  readonly code: Code;

  readonly handler: string;
}

export class Function extends cdk.Resource {
  constructor(scope: Construct, id: string, props: FunctionProps) {

    const code = props.code;

    new CfnFunction(this, 'Resource', {
      code: {
        s3Bucket: code.s3Location && code.s3Location.bucketName,
        s3Key: code.s3Location && code.s3Location.objectKey,
        s3ObjectVersion: code.s3Location && code.s3Location.objectVersion,
        zipFile: code.inlineCode,
        imageUri: code.image?.imageUri,
      },
      handler: props.handler,
    });
  }
}
```

```ts
export interface FunctionProps {
  /**
   * The source code of your Lambda function. You can point to a file in an
   * Amazon Simple Storage Service (Amazon S3) bucket or specify your source
   * code as inline text.
   */
  readonly code: Code;

  /**
   * The name of the method within your code that Lambda calls to execute
   * your function. The format includes the file name. It can also include
   * namespaces and other qualifiers, depending on the runtime.
   *
   * Use `Handler.FROM_IMAGE` when defining a function from a Docker image.
   *
   * NOTE: If you specify your source code as inline text by specifying the
   * ZipFile property within the Code property, specify index.function_name as
   * the handler.
   */
  readonly handler: string;
}

export class Function extends cdk.Resource {
  constructor(scope: Construct, id: string, props: FunctionProps) {

    const code = props.code;

    new CfnFunction(this, 'Resource', {
      code: {
        s3Bucket: code.s3Location && code.s3Location.bucketName,
        s3Key: code.s3Location && code.s3Location.objectKey,
        s3ObjectVersion: code.s3Location && code.s3Location.objectVersion,
        zipFile: code.inlineCode,
        imageUri: code.image?.imageUri,
      },
      handler: props.handler,
    });
  }
}
```

```ts
export interface FunctionProps {
  /**
   * The source code of your Lambda function. You can point to a file in an
   * Amazon Simple Storage Service (Amazon S3) bucket or specify your source
   * code as inline text.
   */
  readonly code: Code;

  /**
   * The name of the method within your code that Lambda calls to execute
   * your function. The format includes the file name. It can also include
   * namespaces and other qualifiers, depending on the runtime.
   *
   * Use `Handler.FROM_IMAGE` when defining a function from a Docker image.
   *
   * NOTE: If you specify your source code as inline text by specifying the
   * ZipFile property within the Code property, specify index.function_name as
   * the handler.
   */
  readonly handler: string;
}

export class Function extends cdk.Resource {
  constructor(scope: Construct, id: string, props: FunctionProps) {

    const code = props.code;

    new CfnFunction(this, 'Resource', {
      code: {
        s3Bucket: code.s3Location && code.s3Location.bucketName,
        s3Key: code.s3Location && code.s3Location.objectKey,
        s3ObjectVersion: code.s3Location && code.s3Location.objectVersion,
        zipFile: code.inlineCode,
        imageUri: code.image?.imageUri,
      },
      handler: props.handler === Handler.FROM_IMAGE ? undefined : props.handler,
    });
  }
}
```


```ts
export interface FunctionProps {
  /**
   * The source code of your Lambda function. You can point to a file in an
   * Amazon Simple Storage Service (Amazon S3) bucket or specify your source
   * code as inline text.
   */
  readonly code: Code;

  /**
   * The name of the method within your code that Lambda calls to execute
   * your function. The format includes the file name. It can also include
   * namespaces and other qualifiers, depending on the runtime.
   *
   * Use `Handler.FROM_IMAGE` when defining a function from a Docker image.
   *
   * NOTE: If you specify your source code as inline text by specifying the
   * ZipFile property within the Code property, specify index.function_name as
   * the handler.
   */
  readonly handler: string;
}

export class Function extends cdk.Resource {
  constructor(scope: Construct, id: string, props: FunctionProps) {

    const code = props.code.bind(this);
    verifyCodeConfig(code, props);

    new CfnFunction(this, 'Resource', {
      code: {
        s3Bucket: code.s3Location && code.s3Location.bucketName,
        s3Key: code.s3Location && code.s3Location.objectKey,
        s3ObjectVersion: code.s3Location && code.s3Location.objectVersion,
        zipFile: code.inlineCode,
        imageUri: code.image?.imageUri,
      },
      handler: props.handler === Handler.FROM_IMAGE ? undefined : props.handler,
    });
  }
}
```

</CodeSurferLayout>

---

## „Ç≥„É≥„Éà„É™„Éì„É•„Éº„Éà„ÅÆ„Éè„Éû„Çä„Å©„Åì

---

## „Åä„Çè„Çä„Å´

---

„ÅîÊ∏ÖÊæÑ„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åó„Åü :pray:
